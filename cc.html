<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Canvas 그림판</title>
  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background: #f0f0f0;
    }
    canvas {
      background: white;
      border: 1px solid #ccc;
      cursor: crosshair;
    }
  </style>
</head>
<body>
  <canvas id="draw" width="800" height="500"></canvas>

  <script>
    const canvas = document.getElementById('draw');
    const ctx = canvas.getContext('2d');

    let drawing = false; // 드로잉 상태 플래그
    let prevX = 0, prevY = 0;

    // 마우스를 누르면 시작
    canvas.addEventListener('mousedown', (e) => {
      drawing = true;
      [prevX, prevY] = [e.offsetX, e.offsetY];
    });

    // 마우스를 떼면 종료
    canvas.addEventListener('mouseup', () => {
      drawing = false;
    });

    // 마우스를 움직일 때
    canvas.addEventListener('mousemove', (e) => {
      if (!drawing) return;
      const [x, y] = [e.offsetX, e.offsetY];
      ctx.beginPath();
      ctx.moveTo(prevX, prevY);
      ctx.lineTo(x, y);
      ctx.strokeStyle = '#333';
      ctx.lineWidth = 2;
      ctx.lineCap = 'round';
      ctx.stroke();
      [prevX, prevY] = [x, y];
    });

    // 점 찍기 (클릭만 했을 때)
    canvas.addEventListener('click', (e) => {
      ctx.beginPath();
      ctx.arc(e.offsetX, e.offsetY, 3, 0, Math.PI * 2);
      ctx.fillStyle = '#333';
      ctx.fill();
    });
  </script>
</body>
</html>
